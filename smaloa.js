/*!

MIT License

Copyright (c) 2022 68.00-59.com
Copyright (c) 2022 00-59.com

*/
function log(e){console.log(e)}export const VERSION="4.2.2";export var CONFIG={};CONFIG["components root"]="/",CONFIG["placeholders root"]="/",CONFIG["phase 1"]=function(){},CONFIG["phase 2"]=function(){},CONFIG["phase 3"]=function(){},CONFIG["phase 4"]=function(){},CONFIG["phase 5"]=function(){};export function getDomElements(e){return document.querySelectorAll(e)}export function querySelectorAll(e){return document.querySelectorAll(e)}export function addClassToNodes(e,n){for(let t=0;t<n.length;t++)n[t].classList.add(e)}export function addClassToQNodes(e,n){addClassToNodes(e,getDomElements(n))}export function addBeforeBeginning(e,n){e.insertAdjacentHTML("beforebegin",n)}export function addBeforeIdBeginning(e,n){addBeforeBeginning(getDomElements("#"+e)[0],n)}export function addBeforeClassBeginning(e,n){let t=getDomElements("."+e);for(let e of t)addBeforeBeginning(e,n)}export function addAfterBeginning(e,n){e.insertAdjacentHTML("afterbegin",n)}export function addAfterIdBeginning(e,n){addAfterBeginning(getDomElements("#"+e)[0],n)}export function addAfterClassBeginning(e,n){let t=getDomElements("."+e);for(let e of t)addAfterBeginning(e,n)}export function addBeforeEnding(e,n){e.insertAdjacentHTML("beforeend",n)}export function addBeforeIdEnding(e,n){addBeforeEnding(getDomElements("#"+e)[0],n)}export function addBeforeClassEnding(e,n){let t=getDomElements("."+e);for(let e of t)addBeforeEnding(e,n)}export function addAfterEnding(e,n){e.insertAdjacentHTML("afterend",n)}export function addAfterIdEnding(e,n){addAfterEnding(getDomElements("#"+e)[0],n)}export function addAfterClassEnding(e,n){let t=getDomElements("."+e);for(let e of t)addAfterEnding(e,n)}export function prependToHead(e){addAfterBeginning(getDomElements("head")[0],e)}export function appendToHead(e){addBeforeEnding(getDomElements("head")[0],e)}export function prependToBody(e){addAfterBeginning(getDomElements("body")[0],e)}export function appendToBody(e){addBeforeEnding(getDomElements("body")[0],e)}export function getText(e,n){let t=new XMLHttpRequest;t.open("GET",e,!0),t.send(null),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){1!==t.getResponseHeader("Content-Type").indexOf("text")&&n(t.responseText)}}}export function getScriptPath(){let e=document.getElementsByTagName("script");return e[e.length-1].src}export function getRelativeScriptPath(){let e=getScriptPath();return new URL(e).pathname}export function load(){log("Start loading smaloa v4.2.2"),function(){log("Loading smaloa placeholders ...");let e=getDomElements("div.placeholder");for(let n of e){let e=n.dataset.placeholder;log("Loading placeholder "+e),null!=e&&getText(CONFIG["placeholders root"]+"placeholder/"+e,(function(e){n.outerHTML=e}))}log("smaloa placeholders loaded.")}(),function(){log("Loading smaloa components ...");let e=getDomElements("div.component");for(let n of e){let e=n.dataset.component;log("Loading component "+e),null!=e&&getText(CONFIG["components root"]+"components/"+e,(function(e){n.outerHTML=e}))}log("smaloa components loaded.")}(),log("Run smaloa phase 1"),setTimeout(CONFIG["phase 1"],100),log("Run smaloa phase 2"),setTimeout(CONFIG["phase 2"],500),log("Run smaloa phase 3"),setTimeout(CONFIG["phase 3"],1e3),log("Run smaloa phase 4"),setTimeout(CONFIG["phase 4"],2e3),log("Run smaloa phase 5"),setTimeout(CONFIG["phase 5"],5e3),log("smaloa was loaded")}
